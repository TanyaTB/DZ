### **1. Общие и интеграционные проверки**

| ID  | Название кейса | Предусловие | Шаги | Ожидаемый результат |
|-----|----------------|-------------|------|---------------------|
| **INT-1** | Отправка полностью пустой формы | Открыта форма регистрации | Нажать кнопку "Зарегистрироваться" | Появились ошибки валидации для полей "Имя", "Пароль", "Дата рождения". Поле "Email" без ошибок. |
| **INT-2** | Защита от SQL-инъекции | - | Во все поля ввести `' OR '1'='1`--. Нажать "Зарегистрироваться". | Система обрабатывает ввод как текст. Данные не скомпрометированы. Регистрация завершается с ошибками валидации или (если данные чудом прошли) создается пользователь с таким именем. |
| **INT-3** | Защита от XSS-инъекции | - | Во все поля ввести `<script>alert('XSS')</script>`. Нажать "Зарегистрироваться". | Скрипт не выполняется. Текст либо экранируется (отображается как текст на странице ошибки), либо обрезается. |
| **INT-4** | Проверка уникальности имени пользователя | В системе существует пользователь с именем "Иван" | 1. Заполнить форму, указав имя "Иван" и валидные данные в остальные поля. <br> 2. Нажать "Зарегистрироваться". | Появилась ошибка: "Имя пользователя уже занято". |
| **INT-5** | Корректное сохранение данных (позитивный сценарий) | - | 1. Заполнить все поля валидными данными: Имя: "Пётр", Пароль: "123456", Дата: "01.01.2000", Email: `test@mail.ru`. <br> 2. Нажать "Зарегистрироваться". | Регистрация успешна. В БД записаны данные: имя "Пётр", пароль (в хэшированном виде), дата рождения `2000-01-01`, email `test@mail.ru`. |

---

### **2. Поле "Имя пользователя" (обязательное, кириллица, ≤255 симв.)**

| ID  | Название кейса | Тип проверки | Вводные данные | Ожидаемый результат |
|-----|----------------|--------------|----------------|---------------------|
| **UN-1** | Валидное имя в нижнем регистре | Позитивная | `анна` | ✅ Успех |
| **UN-2** | Валидное имя с буквой "ё" | Позитивная | `артём` | ✅ Успех |
| **UN-3** | Валидное имя с дефисом (*на усмотрение*) | Позитивная | `анна-мария` | ✅ Успех (или ❌ Ошибка, если запрещено) |
| **UN-4** | Граничное значение по длине (255 символов) | Позитивная | `К` (повторено 255 раз) | ✅ Успех |
| **UN-5** | Пустое поле | Негативная | `` | ❌ Ошибка: "Поле обязательно для заполнения" |
| **UN-6** | Пробелы в начале и конце | Негативная | `  анна  ` | ❌ Ошибка или ✅ Успех (если триммится) |
| **UN-7** | Пробел в середине | Негативная | `анна мария` | ❌ Ошибка: "Допустимы только буквы кириллицы" |
| **UN-8** | Латинские символы | Негативная | `Anna` | ❌ Ошибка: "Допустимы только буквы кириллицы" |
| **UN-9** | Цифры | Негативная | `Анна123` | ❌ Ошибка: "Допустимы только буквы кириллицы" |
| **UN-10** | Спецсимволы | Негативная | `Анна!` | ❌ Ошибка: "Допустимы только буквы кириллицы" |
| **UN-11** | Превышение длины (256 символов) | Негативная | `К` (повторено 256 раз) | ❌ Ошибка: "Превышена максимальная длина (255 символов)" |

---

### **3. Поле "Пароль" (обязательное, цифры, ≤64 симв.)**

| ID  | Название кейса | Тип проверки | Вводные данные | Ожидаемый результат |
|-----|----------------|--------------|----------------|---------------------|
| **PW-1** | Валидный пароль | Позитивная | `1234567890` | ✅ Успех |
| **PW-2** | Граничное значение по длине (64 символа) | Позитивная | `1` (повторено 64 раза) | ✅ Успех |
| **PW-3** | Пустое поле | Негативная | `` | ❌ Ошибка: "Поле обязательно для заполнения" |
| **PW-4** | Пробелы в начале и конце | Негативная | ` 123456 ` | ❌ Ошибка: "Допустимы только цифры" |
| **PW-5** | Пробел в середине | Негативная | `123 456` | ❌ Ошибка: "Допустимы только цифры" |
| **PW-6** | Латинские буквы | Негативная | `123abc` | ❌ Ошибка: "Допустимы только цифры" |
| **PW-7** | Кириллические буквы | Негативная | `123абв` | ❌ Ошибка: "Допустимы только цифры" |
| **PW-8** | Спецсимволы | Негативная | `123!@#` | ❌ Ошибка: "Допустимы только цифры" |
| **PW-9** | Превышение длины (65 символов) | Негативная | `1` (повторено 65 раз) | ❌ Ошибка: "Превышена максимальная длина (64 символа)" |

---

### **4. Поле "Дата рождения" (обязательное, формат дд.мм.гггг, возраст 18+)**

*   **Критическая дата для совершеннолетия на 09.09.2025: 10.09.2007.**
    *   Родился **10.09.2007 или ранее** -> **18+**.
    *   Родился **11.09.2007 или позже** -> **младше 18**.

| ID  | Название кейса | Тип проверки | Вводные данные | Ожидаемый результат |
|-----|----------------|--------------|----------------|---------------------|
| **BD-1** | Валидная дата, возраст 18+ | Позитивная | `01.01.2000` | ✅ Успех |
| **BD-2** | **Граничное значение: ровно 18 лет сегодня** | Позитивная | `09.09.2007` | ✅ Успех |
| **BD-3** | **Граничное значение: 18 лет и 1 день назад** | Позитивная | `08.09.2007` | ✅ Успех |
| **BD-4** | **Граничное значение: 17 лет и 364 дня** | Негативная | `10.09.2007` | ❌ Ошибка: "Регистрация разрешена с 18 лет" |
| **BD-5** | Пустое поле | Негативная | `` | ❌ Ошибка: "Поле обязательно для заполнения" |
| **BD-6** | Нарушение формата (дефисы) | Негативная | `01-01-2000` | ❌ Ошибка: "Неверный формат даты. Используйте дд.мм.гггг" |
| **BD-7** | Несуществующий день | Негативная | `32.01.2000` | ❌ Ошибка: "Неверная дата" |
| **BD-8** | Несуществующий месяц | Негативная | `01.13.2000` | ❌ Ошибка: "Неверная дата" |
| **BD-9** | Дата из будущего | Негативная | `01.01.2030` | ❌ Ошибка: "Дата не может быть из будущего" |
| **BD-10** | Некорректные символы | Негативная | `ab.cd.efgh` | ❌ Ошибка: "Неверный формат даты. Используйте дд.мм.гггг" |
| **BD-11** | Корректная дата для високосного года | Позитивная | `29.02.2000` | ✅ Успех |
| **BD-12** | Некорректная дата для невисокосного года | Негативная | `29.02.2001` | ❌ Ошибка: "Неверная дата" |

---

### **5. Поле "Электронный адрес" (необязательное, формат имя@домен.ру, ≤255 симв.)**

| ID  | Название кейса | Тип проверки | Вводные данные | Ожидаемый результат |
|-----|----------------|--------------|----------------|---------------------|
| **EM-1** | Пустое поле | Позитивная | `` | ✅ Успех (регистрация без email) |
| **EM-2** | Валидный email (.ru) | Позитивная | `test@mail.ru` | ✅ Успех |
| **EM-3** | Валидный email (.ру) | Позитивная | `тест@почта.ру` | ✅ Успех |
| **EM-4** | Валидный email с поддоменом | Позитивная | `test@sub.domain.ru` | ✅ Успех |
| **EM-5** | Граничное значение по длине (255 символов) | Позитивная | `a@` + `b.ru` (довести до 255 символов) | ✅ Успех |
| **EM-6** | Отсутствует @ | Негативная | `testmail.ru` | ❌ Ошибка: "Неверный формат email" |
| **EM-7** | Отсутствует домен | Негативная | `test@` | ❌ Ошибка: "Неверный формат email" |
| **EM-8** | Отсутствует имя | Негативная | `@mail.ru` | ❌ Ошибка: "Неверный формат email" |
| **EM-9** | Две собачки (@@) | Негативная | `test@@mail.ru` | ❌ Ошибка: "Неверный формат email" |
| **EM-10** | Точка в конце | Негативная | `test@mail.ru.` | ❌ Ошибка: "Неверный формат email" |
| **EM-11** | Пробелы | Негативная | `test @mail.ru` | ❌ Ошибка: "Неверный формат email" |
| **EM-12** | Превышение длины (256 символов) | Негативная | `a@` + `b.ru` (довести до 256 символов) | ❌ Ошибка: "Превышена максимальная длина (255 символов)" |
| **EM-13** | Другой домен верхнего уровня (*на усмотрение*) | Негативная | `test@gmail.com` | ❌ Ошибка: "Допустимы только домены .ru/.ру" или ✅ Успех (если "ру" - лишь пример) |
